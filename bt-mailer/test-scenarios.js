#!/usr/bin/env node

/**
 * ØªØ³Øª Ú©Ø§Ù…Ù„ Ø³ÛŒØ³ØªÙ… Ù¾ÛŒØ§Ù…Ú©â€ŒØ±Ø³Ø§Ù†ÛŒ Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² curl
 * Ø§ÛŒÙ† Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ø´Ø§Ù…Ù„ ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø´Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ ØªÙ…Ø§Ù… Ø³Ù†Ø§Ø±ÛŒÙˆÙ‡Ø§ÛŒ Ù¾ÛŒØ§Ù…Ú©ÛŒ Ø§Ø³Øª
 */

console.log('='.repeat(80));
console.log('ğŸ§ª ØªØ³Øª Ú©Ø§Ù…Ù„ Ø³ÛŒØ³ØªÙ… Ù¾ÛŒØ§Ù…Ú©â€ŒØ±Ø³Ø§Ù†ÛŒ - bt-mailer');
console.log('='.repeat(80));
console.log();

const scenarios = [
  {
    id: 1,
    title: 'Ø®ÙˆØ´â€ŒØ¢Ù…Ø¯Ú¯ÙˆÛŒÛŒ Ø¨Ø¹Ø¯ Ø§Ø² ØªØ£ÛŒÛŒØ¯ OTP',
    trigger: 'ØªØºÛŒÛŒØ± verificationCode Ø¨Ù‡ null Ø¨Ø¹Ø¯ Ø§Ø² insert',
    example: `ÙØ±Ø§Ø² ØªØ§ÛŒØ§Ø±ÛŒ Ø¹Ø²ÛŒØ²

Ù¾ÛŒØ´ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯.
Ø¬Ù‡Øª ØªÚ©Ù…ÛŒÙ„ Ø«Ø¨Øª Ù†Ø§Ù… Ù…Ø±Ø§Ø­Ù„ Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª Ø±Ø§ Ú©Ø§Ù…Ù„ Ù†Ù…Ø§ÛŒÛŒØ¯.
Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ:07644421176`,
  },
  {
    id: 2,
    title: 'ØªØ£ÛŒÛŒØ¯ Ù…ÙˆÙÙ‚ Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª',
    trigger: 'ØªØºÛŒÛŒØ± verificationStatus Ø¨Ù‡ FirstLevelVerified ÛŒØ§ SecondLevelVerified',
    example: `ÙØ±Ø§Ø² ØªØ§ÛŒØ§Ø±ÛŒ Ø¹Ø²ÛŒØ²
Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª Ø´Ù…Ø§ Ø¯Ø± Ù…Ù‡Ø±Ø³Ø§Ù† Ú¯Ù„Ø¯ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª ØªØ£ÛŒÛŒØ¯ Ø´Ø¯.
Ø§Ú©Ù†ÙˆÙ† Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø§Ø² ØªÙ…Ø§Ù… Ø®Ø¯Ù…Ø§Øª Ø³Ø§Ù…Ø§Ù†Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯.`,
  },
  {
    id: 3,
    title: 'Ø±Ø¯ Ø´Ø¯Ù† Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª',
    trigger: 'ØªØºÛŒÛŒØ± verificationStatus Ø¨Ù‡ FirstLevelRejected ÛŒØ§ SecondLevelRejected',
    example: `ÙØ±Ø§Ø² ØªØ§ÛŒØ§Ø±ÛŒ Ø¹Ø²ÛŒØ²
Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª Ø´Ù…Ø§ Ø¯Ø± Ù…Ù‡Ø±Ø³Ø§Ù† Ú¯Ù„Ø¯ ØªØ£ÛŒÛŒØ¯ Ù†Ø´Ø¯.
Ø¯Ù„ÛŒÙ„: ØªØµÙˆÛŒØ± Ù…Ø¯Ø§Ø±Ú© ÙˆØ§Ø¶Ø­ Ù†ÛŒØ³Øª
Ù„Ø·ÙØ§Ù‹ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø®ÙˆØ¯ Ø±Ø§ Ø§ØµÙ„Ø§Ø­ Ùˆ Ù…Ø¬Ø¯Ø¯Ø§Ù‹ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯.`,
  },
  {
    id: 4,
    title: 'ÛŒØ§Ø¯Ø¢ÙˆØ±ÛŒ ØªÚ©Ù…ÛŒÙ„ Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª',
    trigger: 'Ø¨Ø§ÛŒØ¯ Ø¨Ù‡ ØµÙˆØ±Øª Ø¯Ø³ØªÛŒ ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Ø´ÙˆØ¯ (Ù‚Ø§Ø¨Ù„ÛŒØª Ø¢ÛŒÙ†Ø¯Ù‡)',
    example: `ÙØ±Ø§Ø² ØªØ§ÛŒØ§Ø±ÛŒ Ø¹Ø²ÛŒØ²
Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª Ø´Ù…Ø§ Ø¯Ø± Ù…Ù‡Ø±Ø³Ø§Ù† Ú¯Ù„Ø¯ Ù‡Ù†ÙˆØ² ØªÚ©Ù…ÛŒÙ„ Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª.
Ø¨Ø±Ø§ÛŒ ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Ú©Ø§Ù…Ù„ Ø­Ø³Ø§Ø¨ Ùˆ Ø¯Ø±ÛŒØ§ÙØª Ù‡Ø¯ÛŒÙ‡ 5Ù…ÛŒÙ„ÛŒ Ø·Ù„Ø§ ØŒ Ù„Ø·ÙØ§Ù‹ Ù…Ø±Ø§Ø­Ù„ Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª Ø±Ø§ Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡ÛŒØ¯.`,
  },
  {
    id: 5,
    title: 'ØªØºÛŒÛŒØ± Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±',
    trigger: 'ØªØºÛŒÛŒØ± ÙÛŒÙ„Ø¯ password Ø¯Ø± collection users',
    example: `ÙØ±Ø§Ø² ØªØ§ÛŒØ§Ø±ÛŒ Ø¹Ø²ÛŒØ²
Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø­Ø³Ø§Ø¨ Ø´Ù…Ø§ Ø¯Ø± Ù…Ù‡Ø±Ø³Ø§Ù† Ú¯Ù„Ø¯ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª ØªØºÛŒÛŒØ± Ú©Ø±Ø¯.`,
  },
  {
    id: 6,
    title: 'Ø«Ø¨Øª Ø¯Ø±Ø®ÙˆØ§Ø³Øª ÙˆØ§Ø±ÛŒØ²',
    trigger: 'insert Ø¯Ø± balancetransactions Ø¨Ø§ type Ø´Ø§Ù…Ù„ deposit',
    example: `Ø¯Ø±Ø®ÙˆØ§Ø³Øª ÙˆØ§Ø±ÛŒØ² Ø´Ù…Ø§ Ø¯Ø± Ù…Ù‡Ø±Ø³Ø§Ù† Ú¯Ù„Ø¯ Ø«Ø¨Øª Ø´Ø¯.
Ù…Ø¨Ù„Øº: 1,000,000 ØªÙˆÙ…Ø§Ù†
Ø´Ù…Ø§Ø±Ù‡ Ù¾ÛŒÚ¯ÛŒØ±ÛŒ: 6789abc123
Ù¾Ø³ Ø§Ø² Ø¨Ø±Ø±Ø³ÛŒ Ø§Ø·Ù„Ø§Ø¹â€ŒØ±Ø³Ø§Ù†ÛŒ Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯.`,
  },
  {
    id: 7,
    title: 'ØªØ£ÛŒÛŒØ¯ ÙˆØ§Ø±ÛŒØ²',
    trigger: 'ØªØºÛŒÛŒØ± status Ø¨Ù‡ Accepted Ø¨Ø±Ø§ÛŒ deposit',
    example: `Ù…Ù‡Ø±Ø³Ø§Ù† Ú¯Ù„Ø¯
ÙˆØ§Ø±ÛŒØ² Ø´Ù…Ø§ Ø¯Ø± Ù…Ù‡Ø±Ø³Ø§Ù† Ú¯Ù„Ø¯ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª ØªØ£ÛŒÛŒØ¯ Ø´Ø¯.
Ù…Ø¨Ù„Øº: 1,000,000 ØªÙˆÙ…Ø§Ù†
Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©ÛŒÙ Ù¾ÙˆÙ„: 5,000,000 ØªÙˆÙ…Ø§Ù†
ØªØ§Ø±ÛŒØ®: 1404/9/30
Ø³Ø§Ø¹Øª: 14:25`,
  },
  {
    id: 8,
    title: 'Ø±Ø¯ Ø´Ø¯Ù† ÙˆØ§Ø±ÛŒØ²',
    trigger: 'ØªØºÛŒÛŒØ± status Ø¨Ù‡ Rejected Ø¨Ø±Ø§ÛŒ deposit',
    example: `Ø¯Ø±Ø®ÙˆØ§Ø³Øª ÙˆØ§Ø±ÛŒØ² Ø´Ù…Ø§ Ø¯Ø± Ù…Ù‡Ø±Ø³Ø§Ù† Ú¯Ù„Ø¯ ØªØ£ÛŒÛŒØ¯ Ù†Ø´Ø¯.
Ù…Ø¨Ù„Øº: 1,000,000 ØªÙˆÙ…Ø§Ù†
Ø¯Ù„ÛŒÙ„: Ù…Ø¨Ù„Øº ÙˆØ§Ø±ÛŒØ²ÛŒ Ø¨Ø§ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ù…Ø·Ø§Ø¨Ù‚Øª Ù†Ø¯Ø§Ø±Ø¯`,
  },
  {
    id: 9,
    title: 'Ø«Ø¨Øª Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¨Ø±Ø¯Ø§Ø´Øª',
    trigger: 'insert Ø¯Ø± balancetransactions Ø¨Ø§ type Ø´Ø§Ù…Ù„ withdraw',
    example: `Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¨Ø±Ø¯Ø§Ø´Øª Ø´Ù…Ø§ Ø¯Ø± Ù…Ù‡Ø±Ø³Ø§Ù† Ú¯Ù„Ø¯ Ø«Ø¨Øª Ø´Ø¯.
Ù…Ø¨Ù„Øº: 500,000 ØªÙˆÙ…Ø§Ù†
Ø´Ù…Ø§Ø±Ù‡ Ù¾ÛŒÚ¯ÛŒØ±ÛŒ: xyz456def
Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±Ø±Ø³ÛŒ Ù…ÛŒâ€ŒØ¨Ø§Ø´Ø¯.`,
  },
  {
    id: 10,
    title: 'Ù¾Ø±Ø¯Ø§Ø®Øª Ù…ÙˆÙÙ‚ Ø¨Ø±Ø¯Ø§Ø´Øª',
    trigger: 'ØªØºÛŒÛŒØ± status Ø¨Ù‡ Accepted Ø¨Ø±Ø§ÛŒ withdraw',
    example: `Ø¨Ø±Ø¯Ø§Ø´Øª Ø´Ù…Ø§ Ø§Ø² Ù…Ù‡Ø±Ø³Ø§Ù† Ú¯Ù„Ø¯ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯.
Ù…Ø¨Ù„Øº: 500,000 ØªÙˆÙ…Ø§Ù†
Ø´Ù…Ø§Ø±Ù‡ Ù¾ÛŒÚ¯ÛŒØ±ÛŒ: TRK-12345678`,
  },
  {
    id: 11,
    title: 'Ø®Ø±ÛŒØ¯ Ù…ÙˆÙÙ‚',
    trigger: 'ØªØºÛŒÛŒØ± status Ø¨Ù‡ Accepted Ø¨Ø±Ø§ÛŒ transaction Ø¨Ø§ type=buy',
    example: `Ù…Ù‡Ø±Ø³Ø§Ù† Ú¯Ù„Ø¯

Ø®Ø±ÛŒØ¯ 1.5 Ú¯Ø±Ù… Ø·Ù„Ø§ Ø¨Ù‡ Ù…Ø¨Ù„Øº 2,500,000 Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯.
Ù…Ø§Ù†Ø¯Ù‡ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø·Ù„Ø§: 2.5
Ù…Ø§Ù†Ø¯Ù‡ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ù†Ù‚Ø±Ù‡: 10.3
Ù…Ø§Ù†Ø¯Ù‡ Ù…ÙˆØ¬ÙˆØ¯ÛŒ ØªÙˆÙ…Ø§Ù†: 5,000,000`,
  },
  {
    id: 12,
    title: 'ÙØ±ÙˆØ´ Ù…ÙˆÙÙ‚',
    trigger: 'ØªØºÛŒÛŒØ± status Ø¨Ù‡ Accepted Ø¨Ø±Ø§ÛŒ transaction Ø¨Ø§ type=sell',
    example: `Ù…Ù‡Ø±Ø³Ø§Ù† Ú¯Ù„Ø¯

ÙØ±ÙˆØ´ 0.5 Ú¯Ø±Ù… Ù†Ù‚Ø±Ù‡ Ø¨Ù‡ Ù…Ø¨Ù„Øº 800,000 Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯.
Ù…Ø§Ù†Ø¯Ù‡ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø·Ù„Ø§: 2.5
Ù…Ø§Ù†Ø¯Ù‡ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ù†Ù‚Ø±Ù‡: 10.3
Ù…Ø§Ù†Ø¯Ù‡ Ù…ÙˆØ¬ÙˆØ¯ÛŒ ØªÙˆÙ…Ø§Ù†: 5,000,000`,
  },
];

scenarios.forEach((scenario) => {
  console.log(`ğŸ“± ØªØ³Øª ${scenario.id}: ${scenario.title}`);
  console.log('-'.repeat(80));
  console.log(`âš¡ Trigger: ${scenario.trigger}`);
  console.log();
  console.log('ğŸ“ Ù…ØªÙ† Ù¾ÛŒØ§Ù…Ú©:');
  console.log('â”Œ' + 'â”€'.repeat(78) + 'â”');
  scenario.example.split('\n').forEach((line) => {
    console.log(`â”‚ ${line.padEnd(76)} â”‚`);
  });
  console.log('â””' + 'â”€'.repeat(78) + 'â”˜');
  console.log();
});

console.log('='.repeat(80));
console.log('âœ… Ù†Ù…Ø§ÛŒØ´ ØªÙ…Ø§Ù… Ø³Ù†Ø§Ø±ÛŒÙˆÙ‡Ø§ÛŒ Ù¾ÛŒØ§Ù…Ú©ÛŒ');
console.log('='.repeat(80));
console.log();
console.log('ğŸ“Œ Ù†Ú©Ø§Øª Ù…Ù‡Ù…:');
console.log('   â€¢ Ø¨Ù‡ ØµÙˆØ±Øª Ù¾ÛŒØ´â€ŒÙØ±Ø¶ SMS Ø§Ø±Ø³Ø§Ù„ ÙˆØ§Ù‚Ø¹ÛŒ Ù†Ø¯Ø§Ø±Ø¯ (SMS_MODE=off)');
console.log('   â€¢ Ø¨Ø±Ø§ÛŒ dry-run (ÙÙ‚Ø· Ù„Ø§Ú¯): SMS_MODE=dry-run node watch-balance-transactions.js');
console.log('   â€¢ Ø¨Ø±Ø§ÛŒ Ø§Ø±Ø³Ø§Ù„ ÙˆØ§Ù‚Ø¹ÛŒ (Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯: ÙÙ‚Ø· Ù¾Ø±ÙˆØ¯Ø§Ú©Ø´Ù†): SMS_MODE=live SMS_ALLOW_LIVE=true NODE_ENV=production node watch-balance-transactions.js');
console.log('   â€¢ Ø¯Ø± Ø­Ø§Ù„Øª --test Ù‡ÛŒÚ†ÙˆÙ‚Øª SMS ÙˆØ§Ù‚Ø¹ÛŒ Ø§Ø±Ø³Ø§Ù„ Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ù…Ú¯Ø± SMS_TEST_CAN_SEND=true Ø¨Ø§Ø´Ø¯');
console.log('   â€¢ Ø§Ú¯Ø± Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø§Ø² Ù¾ÛŒØ§Ù…Ú©â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø± Ú©Ù¾ÛŒ Ø¨Ù‡ ÛŒÚ© Ø´Ù…Ø§Ø±Ù‡ Ø¨Ø±Ø³Ø¯: SMS_CC_TEST_NUMBER=0912xxxxxxx');
console.log();
console.log('ğŸ”§ Ø¯Ø³ØªÙˆØ±Ø§Øª curl Ø¨Ø±Ø§ÛŒ ØªØ³Øª MongoDB Change Streams:');
console.log();
console.log('1ï¸âƒ£  ØªØ³Øª Ø§ÙØ²ÙˆØ¯Ù† Ú©Ø§Ø±Ø¨Ø± Ø¬Ø¯ÛŒØ¯:');
console.log('   (Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø¯Ø³ØªØ±Ø³ÛŒ Ù…Ø³ØªÙ‚ÛŒÙ… Ø¨Ù‡ MongoDB Ø¯Ø§Ø±Ø¯)');
console.log();
console.log('2ï¸âƒ£  ØªØ³Øª ØªØ£ÛŒÛŒØ¯ OTP:');
console.log('   db.users.updateOne({ _id: "USER_ID" }, { $set: { verificationCode: null } })');
console.log();
console.log('3ï¸âƒ£  ØªØ³Øª ØªØ£ÛŒÛŒØ¯ Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª:');
console.log('   db.users.updateOne({ _id: "USER_ID" }, { $set: { verificationStatus: "FirstLevelVerified" } })');
console.log();
console.log('4ï¸âƒ£  ØªØ³Øª ÙˆØ§Ø±ÛŒØ²:');
console.log('   db.balancetransactions.insertOne({ type: "OnlineDeposit", amount: 1000000, user: ObjectId("USER_ID"), status: "Pending" })');
console.log('   Ø³Ù¾Ø³: db.balancetransactions.updateOne({ _id: "TX_ID" }, { $set: { status: "Accepted" } })');
console.log();
console.log('='.repeat(80));
