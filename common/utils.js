'use strict';function a52_0x2965(_0x54b96d,_0x562410){const _0x550ce1=a52_0x550c();return a52_0x2965=function(_0x296559,_0x517624){_0x296559=_0x296559-0x105;let _0x446b00=_0x550ce1[_0x296559];return _0x446b00;},a52_0x2965(_0x54b96d,_0x562410);}const a52_0x51cef5=a52_0x2965;(function(_0x383e13,_0x564f82){const _0x4c9b80=a52_0x2965,_0x2563f3=_0x383e13();while(!![]){try{const _0x6112ca=parseInt(_0x4c9b80(0x137))/0x1*(parseInt(_0x4c9b80(0x11c))/0x2)+-parseInt(_0x4c9b80(0x127))/0x3+-parseInt(_0x4c9b80(0x143))/0x4*(-parseInt(_0x4c9b80(0x115))/0x5)+parseInt(_0x4c9b80(0x119))/0x6+parseInt(_0x4c9b80(0x144))/0x7+parseInt(_0x4c9b80(0x13e))/0x8+-parseInt(_0x4c9b80(0x135))/0x9*(parseInt(_0x4c9b80(0x114))/0xa);if(_0x6112ca===_0x564f82)break;else _0x2563f3['push'](_0x2563f3['shift']());}catch(_0x4dab63){_0x2563f3['push'](_0x2563f3['shift']());}}}(a52_0x550c,0x28234));var __createBinding=this&&this[a52_0x51cef5(0x130)]||(Object[a52_0x51cef5(0x13d)]?function(_0x99c1bf,_0x2faa07,_0x8e10c2,_0x286a71){const _0x3a720e=a52_0x51cef5;if(_0x286a71===undefined)_0x286a71=_0x8e10c2;var _0x39d788=Object['getOwnPropertyDescriptor'](_0x2faa07,_0x8e10c2);(!_0x39d788||(_0x3a720e(0x116)in _0x39d788?!_0x2faa07[_0x3a720e(0x124)]:_0x39d788[_0x3a720e(0x133)]||_0x39d788[_0x3a720e(0x126)]))&&(_0x39d788={'enumerable':!![],'get':function(){return _0x2faa07[_0x8e10c2];}}),Object['defineProperty'](_0x99c1bf,_0x286a71,_0x39d788);}:function(_0x11994f,_0x4aaa13,_0x4aa8b3,_0x205684){if(_0x205684===undefined)_0x205684=_0x4aa8b3;_0x11994f[_0x205684]=_0x4aaa13[_0x4aa8b3];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a52_0x51cef5(0x13d)]?function(_0xdd6ba1,_0x8b195e){const _0x482d15=a52_0x51cef5;Object[_0x482d15(0x12e)](_0xdd6ba1,_0x482d15(0x128),{'enumerable':!![],'value':_0x8b195e});}:function(_0x139cbf,_0x479875){const _0x17e1a5=a52_0x51cef5;_0x139cbf[_0x17e1a5(0x128)]=_0x479875;}),__importStar=this&&this[a52_0x51cef5(0x11e)]||(function(){var _0xeef3ec=function(_0xc8dace){const _0x118abc=a52_0x2965;return _0xeef3ec=Object[_0x118abc(0x12a)]||function(_0x1bcf42){const _0x25776d=_0x118abc;var _0x5364b9=[];for(var _0x352f84 in _0x1bcf42)if(Object['prototype'][_0x25776d(0x12f)][_0x25776d(0x129)](_0x1bcf42,_0x352f84))_0x5364b9[_0x5364b9['length']]=_0x352f84;return _0x5364b9;},_0xeef3ec(_0xc8dace);};return function(_0x422018){const _0x47f904=a52_0x2965;if(_0x422018&&_0x422018['__esModule'])return _0x422018;var _0x4c2351={};if(_0x422018!=null){for(var _0x53f85f=_0xeef3ec(_0x422018),_0x26d839=0x0;_0x26d839<_0x53f85f[_0x47f904(0x13a)];_0x26d839++)if(_0x53f85f[_0x26d839]!==_0x47f904(0x128))__createBinding(_0x4c2351,_0x422018,_0x53f85f[_0x26d839]);}return __setModuleDefault(_0x4c2351,_0x422018),_0x4c2351;};}()),__importDefault=this&&this['__importDefault']||function(_0x249be9){return _0x249be9&&_0x249be9['__esModule']?_0x249be9:{'default':_0x249be9};};Object[a52_0x51cef5(0x12e)](exports,a52_0x51cef5(0x124),{'value':!![]}),exports[a52_0x51cef5(0x134)]=createFolderPathIfNotExists,exports[a52_0x51cef5(0x145)]=getRequest,exports[a52_0x51cef5(0x13c)]=toRial,exports['toToman']=toToman,exports[a52_0x51cef5(0x138)]=generateRandomCode,exports['generateRandomNumber']=generateRandomNumber,exports[a52_0x51cef5(0x106)]=hashData,exports[a52_0x51cef5(0x12b)]=isDivisible,exports[a52_0x51cef5(0x12d)]=getValueFromPath,exports[a52_0x51cef5(0x112)]=getPriceFromApi,exports[a52_0x51cef5(0x132)]=throwPaymentError,exports['encryptWithHmacSha512']=encryptWithHmacSha512,exports[a52_0x51cef5(0x10b)]=hashArraySha512,exports[a52_0x51cef5(0x13b)]=isFloatingPointCorrect;const common_1=require(a52_0x51cef5(0x113)),axios_1=__importDefault(require('axios')),bcrypt=__importStar(require('bcryptjs')),crypto=__importStar(require(a52_0x51cef5(0x140))),decimal_js_1=__importDefault(require('decimal.js')),fs=__importStar(require(a52_0x51cef5(0x125))),logger=new common_1[(a52_0x51cef5(0x118))](a52_0x51cef5(0x12c));async function createFolderPathIfNotExists(_0x1b0500){const _0x13618e=a52_0x51cef5;try{try{await fs['access'](_0x1b0500),logger[_0x13618e(0x120)](_0x13618e(0x142)+_0x1b0500);}catch(_0x5eb2be){await fs['mkdir'](_0x1b0500,{'recursive':!![]}),logger['log'](_0x13618e(0x139)+_0x1b0500);}}catch(_0x27d130){logger[_0x13618e(0x11d)](_0x13618e(0x11b)+_0x27d130);}}async function getRequest(_0x5eaf73){const _0x4e7c0a=a52_0x51cef5;let _0x18fbae;try{_0x18fbae=await axios_1[_0x4e7c0a(0x128)]['get'](_0x5eaf73);}catch(_0x4c06dd){logger[_0x4e7c0a(0x11d)](_0x4e7c0a(0x13f)+_0x5eaf73+':\x20'+_0x4c06dd);}return _0x18fbae;}function toRial(_0x5509f1){return _0x5509f1*0xa;}function toToman(_0x555f5b){return Math['floor'](_0x555f5b/0xa);}function generateRandomCode(_0x10b68b=0x8){const _0x8373ff=a52_0x51cef5,_0x7bcc0='ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';let _0x2bf344='';for(let _0xc25328=0x0;_0xc25328<_0x10b68b;_0xc25328++){const _0x111084=Math[_0x8373ff(0x10f)](Math['random']()*_0x7bcc0['length']);_0x2bf344+=_0x7bcc0[_0x8373ff(0x117)](_0x111084);}return _0x2bf344;}function a52_0x550c(){const _0x16930d=['reduce','isZero','stringify','floor','createHmac','mod','getPriceFromApi','@nestjs/common','1209610DcirVV','591715ySnIHb','get','charAt','Logger','328812novrrP','Number\x20of\x20digits\x20must\x20be\x20greater\x20than\x20zero.','Error\x20creating\x20folder:\x20','34SLrFiL','error','__importStar','Error\x20in\x20getPriceFromApi<','log','split','>\x20:\x20The\x20provided\x20values\x20for\x20retrieving\x20the\x20price\x20resulted\x20in\x20','update','__esModule','fs/promises','configurable','807759uFqQyI','default','call','getOwnPropertyNames','isDivisible','Utils','getValueFromPath','defineProperty','hasOwnProperty','__createBinding','toString','throwPaymentError','writable','createFolderPathIfNotExists','9jClXSK','hex','9011nTIdne','generateRandomCode','Folder\x20created\x20at\x20','length','isFloatingPointCorrect','toRial','create','847464UWgckS','Error\x20in\x20request\x20to:\x20','crypto','match','Folder\x20already\x20exists\x20at\x20','4exYhMN','856471xYCvxw','getRequest','digest','hashData','hash','data','errors.user.paymentRequired','random','hashArraySha512'];a52_0x550c=function(){return _0x16930d;};return a52_0x550c();}function generateRandomNumber(_0x3f7064){const _0x3c90d3=a52_0x51cef5;if(_0x3f7064<=0x0)throw new Error(_0x3c90d3(0x11a));const _0x25b5ef=0xa**(_0x3f7064-0x1),_0x7b4070=0xa**_0x3f7064-0x1;return Math[_0x3c90d3(0x10f)](Math[_0x3c90d3(0x10a)]()*(_0x7b4070-_0x25b5ef+0x1))+_0x25b5ef;}async function hashData(_0x27bdf6){const _0x9cacfb=a52_0x51cef5,_0x276959=await bcrypt['genSalt']();return bcrypt[_0x9cacfb(0x107)](_0x27bdf6,_0x276959);}function isDivisible(_0x563f41,_0x1c4481){const _0x17ae98=a52_0x51cef5,_0x53fd03=new decimal_js_1[(_0x17ae98(0x128))](_0x563f41),_0x57d6d=new decimal_js_1['default'](_0x1c4481);return _0x53fd03[_0x17ae98(0x111)](_0x57d6d)[_0x17ae98(0x10d)]();}function getValueFromPath(_0x5db166,_0x5545f8){const _0x325a14=a52_0x51cef5;return _0x5545f8[_0x325a14(0x121)]('.')[_0x325a14(0x10c)]((_0x23ea67,_0x342901)=>{const _0x326fbb=_0x325a14,_0x8e058e=_0x342901[_0x326fbb(0x141)](/^([^\[]+)\[(\d+)\]$/);if(_0x8e058e){const [,_0x140d1d,_0x12053e]=_0x8e058e;return _0x23ea67&&_0x23ea67[_0x140d1d]&&_0x23ea67[_0x140d1d][parseInt(_0x12053e,0xa)];}return _0x23ea67&&_0x23ea67[_0x342901];},_0x5db166);}async function getPriceFromApi(_0x919f48,_0x196b34,_0x2ab700,_0x8c92dc=[]){const _0xb8cee4=a52_0x51cef5,_0x2a6726={};for(const {key:_0x3cbe75,value:_0x5b6352}of _0x8c92dc){_0x2a6726[_0x3cbe75]=_0x5b6352;}const _0x1775b1=await(0x0,axios_1[_0xb8cee4(0x128)])(_0x919f48,{'timeout':0x1388,'method':_0x2ab700,'headers':_0x2a6726}),_0x10b92f=getValueFromPath(_0x1775b1[_0xb8cee4(0x108)],_0x196b34);if(typeof _0x10b92f==='boolean'||_0x10b92f==null||_0x10b92f===''||isNaN(Number(_0x10b92f)))throw new Error(_0xb8cee4(0x11f)+_0x919f48+_0xb8cee4(0x122)+_0x10b92f+'.');return Number(_0x10b92f);}function throwPaymentError(_0x1034bf,_0x249ea9){const _0x79f9ce=a52_0x51cef5;throw new common_1['HttpException']({'statusCode':0x192,'message':_0x249ea9['t'](_0x79f9ce(0x109),{'args':{'value':_0x1034bf}}),'neededAmount':_0x1034bf},0x192);}function encryptWithHmacSha512(_0x5cacb5,_0x369757){const _0x1f924d=a52_0x51cef5;return crypto[_0x1f924d(0x110)]('sha512',_0x369757)[_0x1f924d(0x123)](_0x5cacb5)[_0x1f924d(0x105)](_0x1f924d(0x136));}function hashArraySha512(_0x233688){const _0x50c9d8=a52_0x51cef5,_0x414182=JSON[_0x50c9d8(0x10e)](_0x233688),_0x4a3044=crypto['createHash']('sha512')[_0x50c9d8(0x123)](_0x414182)[_0x50c9d8(0x105)](_0x50c9d8(0x136));return _0x4a3044;}function isFloatingPointCorrect(_0x50d317,_0x2aaffa){const _0x3d8fac=a52_0x51cef5,_0x24e9b5=_0x50d317[_0x3d8fac(0x131)]()[_0x3d8fac(0x121)]('.');let _0x17fd77=!![];return _0x24e9b5[_0x3d8fac(0x13a)]>0x1&&_0x24e9b5[0x1][_0x3d8fac(0x13a)]>_0x2aaffa&&(_0x17fd77=![]),_0x17fd77;}