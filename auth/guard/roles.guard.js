'use strict';const a14_0x35dc2e=a14_0x90c4;(function(_0xba05f2,_0x4d29bb){const _0x22f879=a14_0x90c4,_0x51983d=_0xba05f2();while(!![]){try{const _0x23c85a=-parseInt(_0x22f879(0xdf))/0x1+-parseInt(_0x22f879(0xea))/0x2*(parseInt(_0x22f879(0xd5))/0x3)+-parseInt(_0x22f879(0xee))/0x4*(-parseInt(_0x22f879(0xf0))/0x5)+parseInt(_0x22f879(0xdd))/0x6+-parseInt(_0x22f879(0xeb))/0x7+-parseInt(_0x22f879(0xdc))/0x8+-parseInt(_0x22f879(0xd4))/0x9*(-parseInt(_0x22f879(0xe9))/0xa);if(_0x23c85a===_0x4d29bb)break;else _0x51983d['push'](_0x51983d['shift']());}catch(_0x5c8880){_0x51983d['push'](_0x51983d['shift']());}}}(a14_0x4269,0xcfc57));var __decorate=this&&this[a14_0x35dc2e(0xf2)]||function(_0x22de46,_0x2b0754,_0x1d16ab,_0x102f94){const _0xd5879f=a14_0x35dc2e;var _0x2660b4=arguments[_0xd5879f(0xd6)],_0x46061c=_0x2660b4<0x3?_0x2b0754:_0x102f94===null?_0x102f94=Object[_0xd5879f(0xe6)](_0x2b0754,_0x1d16ab):_0x102f94,_0x53ba26;if(typeof Reflect===_0xd5879f(0xde)&&typeof Reflect['decorate']===_0xd5879f(0xf4))_0x46061c=Reflect['decorate'](_0x22de46,_0x2b0754,_0x1d16ab,_0x102f94);else{for(var _0x3a1754=_0x22de46[_0xd5879f(0xd6)]-0x1;_0x3a1754>=0x0;_0x3a1754--)if(_0x53ba26=_0x22de46[_0x3a1754])_0x46061c=(_0x2660b4<0x3?_0x53ba26(_0x46061c):_0x2660b4>0x3?_0x53ba26(_0x2b0754,_0x1d16ab,_0x46061c):_0x53ba26(_0x2b0754,_0x1d16ab))||_0x46061c;}return _0x2660b4>0x3&&_0x46061c&&Object[_0xd5879f(0xd8)](_0x2b0754,_0x1d16ab,_0x46061c),_0x46061c;},__metadata=this&&this['__metadata']||function(_0x3feaed,_0x2ceae3){const _0x632e2c=a14_0x35dc2e;if(typeof Reflect===_0x632e2c(0xde)&&typeof Reflect['metadata']===_0x632e2c(0xf4))return Reflect[_0x632e2c(0xf3)](_0x3feaed,_0x2ceae3);};function a14_0x90c4(_0x19e0cb,_0x31e270){const _0x426981=a14_0x4269();return a14_0x90c4=function(_0x90c461,_0x4d7c78){_0x90c461=_0x90c461-0xd4;let _0x23e92a=_0x426981[_0x90c461];return _0x23e92a;},a14_0x90c4(_0x19e0cb,_0x31e270);}Object[a14_0x35dc2e(0xd8)](exports,a14_0x35dc2e(0xef),{'value':!![]}),exports[a14_0x35dc2e(0xec)]=void 0x0;const common_1=require(a14_0x35dc2e(0xd7)),core_1=require(a14_0x35dc2e(0xe0)),roles_decorator_1=require(a14_0x35dc2e(0xe4));let RolesGuard=class RolesGuard{constructor(_0x112fc2){const _0x21d706=a14_0x35dc2e;this[_0x21d706(0xf1)]=_0x112fc2;}[a14_0x35dc2e(0xe8)](_0x39d327){const _0x1cb47d=a14_0x35dc2e,_0x35dfe2=_0x39d327[_0x1cb47d(0xe5)](),_0x1c4ffb=_0x39d327[_0x1cb47d(0xd9)](),_0xa29eb6=this['reflector'][_0x1cb47d(0xe2)](roles_decorator_1['ROLES_KEY'],[_0x35dfe2,_0x1c4ffb]);if(!_0xa29eb6)return!![];const _0x19c0b6=_0x39d327[_0x1cb47d(0xed)]()[_0x1cb47d(0xe1)](),{user:_0x3a922e}=_0x19c0b6,_0x5a9f7e=_0xa29eb6[_0x1cb47d(0xe3)](_0x461ad3=>_0x3a922e[_0x1cb47d(0xe7)]===_0x461ad3);if(!_0x5a9f7e)return![];if(_0x3a922e&&_0x3a922e[_0x1cb47d(0xe7)]==='Admin'&&(_0x1c4ffb===null||_0x1c4ffb===void 0x0?void 0x0:_0x1c4ffb['name'])==='UserController'){const _0x228e42=_0x35dfe2===null||_0x35dfe2===void 0x0?void 0x0:_0x35dfe2['name'];if(['findAll','createUser','update','deleteUser','changeRole','updateBalance','getUserBalancelogs','getUsersVandarIDDepositInfo','updateOrderBookIsActive','newUsersReport']['includes'](_0x228e42)){const _0x37043c=_0x3a922e['sidebarPermissions'];if(_0x228e42==='findAll'){const _0x1a3aa5=_0x19c0b6&&_0x19c0b6['query']?_0x19c0b6['query']['roles']:void 0x0,_0x5b1c2a=Array['isArray'](_0x1a3aa5)?_0x1a3aa5:(_0x1a3aa5?[_0x1a3aa5]:[]),_0x4e58d7=_0x5b1c2a['length']>0x0&&!_0x5b1c2a['some'](_0x5c7f8f=>_0x5c7f8f!=='Admin'&&_0x5c7f8f!=='SuperAdmin');if(_0x4e58d7){if(!Array['isArray'](_0x37043c)||!_0x37043c['includes']('admins'))return![];}else{if(!Array['isArray'](_0x37043c)||!_0x37043c['includes']('users'))return![];}}else{if(!Array['isArray'](_0x37043c)||!_0x37043c['includes']('users'))return![];}}}return!![];}};function a14_0x4269(){const _0x183f2b=['413568VOgIFF','8723127caSNCR','RolesGuard','switchToHttp','6296308GPSuqa','__esModule','5PakohH','reflector','__decorate','metadata','function','16981884czBFbp','9HoxIDF','length','@nestjs/common','defineProperty','getClass','Injectable','design:paramtypes','8115232XTeYXH','4779852rkTuyi','object','525647MTSfRr','@nestjs/core','getRequest','getAllAndOverride','some','../decorator/roles.decorator','getHandler','getOwnPropertyDescriptor','role','canActivate','10MwXVUJ'];a14_0x4269=function(){return _0x183f2b;};return a14_0x4269();}exports[a14_0x35dc2e(0xec)]=RolesGuard,exports[a14_0x35dc2e(0xec)]=RolesGuard=__decorate([(0x0,common_1[a14_0x35dc2e(0xda)])(),__metadata(a14_0x35dc2e(0xdb),[core_1['Reflector']])],RolesGuard);